(function(){"use strict";var e={5224:function(e,t,o){var n=o(9242),i=o(3396),s=o(7139);function a(e,t,o,n,a,r){const d=(0,i.up)("router-view");return(0,i.wg)(),(0,i.iD)("div",{class:(0,s.C_)({dev:!a.devMode})},[(0,i.Wm)(d)],2)}var r={data(){return{devMode:!0}}},d=o(89);const l=(0,d.Z)(r,[["render",a]]);var c=l,u=o(2483),m=o.p+"img/baseimg.5df6bdf3.jpeg";const h=e=>((0,i.dD)("data-v-7ce7b8f0"),e=e(),(0,i.Cn)(),e),p={class:"home"},v=h((()=>(0,i._)("img",{src:m,class:"main-img",alt:""},null,-1)));function f(e,t,o,n,s,a){const r=(0,i.up)("VideoList"),d=(0,i.up)("QuestionsList"),l=(0,i.up)("router-view");return(0,i.wg)(),(0,i.iD)("div",p,[v,(0,i.Wm)(r),(0,i.Wm)(d),(0,i.Wm)(l)])}const _={class:"video-list-wrap"};function g(e,t,o,n,s,a){const r=(0,i.up)("VideoItem");return(0,i.wg)(),(0,i.iD)("div",_,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.videos,(e=>((0,i.wg)(),(0,i.iD)("div",{key:e.id},[(0,i.Wm)(r,{video:e},null,8,["video"])])))),128))])}var w=o(65),b=o.p+"img/play.eb460cb5.svg";const q=e=>((0,i.dD)("data-v-ed08b254"),e=e(),(0,i.Cn)(),e),k={class:"list-item-wrap"},y=["src"],M={class:"play-button"},C={style:{"text-align":"center"}},O=["src"],S=q((()=>(0,i._)("p",null," ",-1)));function D(e,t,o,n,a,r){const d=(0,i.up)("Modal");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i._)("div",k,[(0,i._)("img",{src:o.video.img_url,onClick:t[0]||(t[0]=e=>r.openModal(o.video))},null,8,y),(0,i._)("div",{class:"video-title",onClick:t[1]||(t[1]=e=>r.openModal(o.video))},(0,s.zw)(o.video.name),1),(0,i._)("div",M,[(0,i._)("img",{src:b,onClick:t[2]||(t[2]=e=>r.openModal(o.video))})])]),(0,i.Wm)(d,{modelValue:a.showModal,"onUpdate:modelValue":t[3]||(t[3]=e=>a.showModal=e),width:"750",onOnCancel:r.closeModal},{header:(0,i.w5)((()=>[(0,i._)("span",null,(0,s.zw)(a.modalFile.name),1)])),footer:(0,i.w5)((()=>[S])),default:(0,i.w5)((()=>[(0,i._)("div",C,[((0,i.wg)(),(0,i.iD)("video",{key:a.modalFile.url,controls:"controls",style:{height:"430px",width:"100%",overflow:"auto"}},[(0,i._)("source",{src:a.modalFile.url},null,8,O)]))])])),_:1},8,["modelValue","onOnCancel"])],64)}var x={name:"VideoItem",data(){return{showModal:!1,modalFile:{url:"",name:""}}},props:{video:{type:Object,required:!1}},methods:{openModal(e){this.modalFile.url=e.url,this.modalFile.name=e.name,this.showModal=!0},closeModal(){this.modalFile.url="",this.modalFile.name="",this.showModal=!1,this.$Modal.remove()}}};const $=(0,d.Z)(x,[["render",D],["__scopeId","data-v-ed08b254"]]);var L=$,T={components:{VideoItem:L},name:"VideoList",computed:{...(0,w.rn)(["videos"])}};const V=(0,d.Z)(T,[["render",g],["__scopeId","data-v-d63d7bfe"]]);var j=V;const I=e=>((0,i.dD)("data-v-d36c7b3a"),e=e(),(0,i.Cn)(),e),Q=I((()=>(0,i._)("div",{class:"questions-head-title"},"Наиболее частые вопросы",-1))),W={class:"questions-list"},F=["onClick"];function P(e,t,o,n,a,r){return(0,i.wg)(),(0,i.iD)(i.HY,null,[Q,(0,i._)("div",W,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.questions,(e=>((0,i.wg)(),(0,i.iD)("div",{class:"quest",key:e.id,onClick:t=>r.goTo(e)},(0,s.zw)(e.name),9,F)))),128))])],64)}o(7658);var U={name:"QuestionsList",methods:{goTo(e){"last"==e.code?window.location="mailto:"+this.helpdesk_mail:(this.$store.commit("setSeleted",e),this.$router.push({name:"question",params:{id:e.id}}))}},computed:{...(0,w.rn)(["questions","helpdesk_mail"])}};const z=(0,d.Z)(U,[["render",P],["__scopeId","data-v-d36c7b3a"]]);var H=z,Z={name:"HomeView",created:function(){this.$store.dispatch("getQuestions")},components:{VideoList:j,QuestionsList:H}};const B=(0,d.Z)(Z,[["render",f],["__scopeId","data-v-7ce7b8f0"]]);var R=B;const Y=e=>((0,i.dD)("data-v-6279eda6"),e=e(),(0,i.Cn)(),e),E={class:"video-list-wrap"},K={class:"head-text"},G={class:"main-text"},J=["innerHTML"],N=Y((()=>(0,i._)("div",{class:"questions-head-title"},"Наиболее частые вопросы",-1))),A={class:"questions-list"},X=["onClick"];function ee(e,t,o,n,a,r){const d=(0,i.up)("Button");return(0,i.wg)(),(0,i.iD)("div",E,[(0,i.Wm)(d,{type:"primary",size:"large",class:"go-back",onClick:t[0]||(t[0]=e=>r.goBack())},{default:(0,i.w5)((()=>[(0,i.Uk)("Назад")])),_:1}),(0,i._)("div",K,(0,s.zw)(e.selected_question.name),1),(0,i._)("div",G,[(0,i._)("span",{innerHTML:e.selected_question.text_area},null,8,J)]),N,(0,i._)("div",A,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(r.questionList,(e=>((0,i.wg)(),(0,i.iD)("div",{class:"quest",key:e.id,onClick:t=>r.goTo(e)},(0,s.zw)(e.name),9,X)))),128))])])}var te={name:"VideoList",computed:{...(0,w.rn)(["selected_question","questions","helpdesk_mail"]),questionList(){return this.questions.filter((e=>e.id!=this.selected_question.id))}},created:function(){""==this.selected_question.id&&this.$store.dispatch("getQuestions").then((()=>{let e=this.questions.find((e=>e.id==this.$route.params.id));void 0!=e&&this.$store.commit("setSeleted",e)}))},methods:{goBack(){this.$router.push({name:"home"})},goTo(e){"last"==e.code?window.location="mailto:"+this.helpdesk_mail:(this.$store.commit("setSeleted",e),this.$router.push({name:"question",params:{id:e.id}}))}}};const oe=(0,d.Z)(te,[["render",ee],["__scopeId","data-v-6279eda6"]]);var ne=oe;const ie=e=>((0,i.dD)("data-v-893b3254"),e=e(),(0,i.Cn)(),e),se={class:"video-list-wrap"},ae=ie((()=>(0,i._)("div",{class:"head-text"},"Не нашли ответ на интересующий вопрос?",-1))),re=ie((()=>(0,i._)("div",{class:"head-text2"},"Форма обращения в службу поддержкит ВСК",-1))),de=ie((()=>(0,i._)("div",{class:"request-title"},"Описание вопроса (не более 500 символов)",-1)));function le(e,t,o,n,s,a){const r=(0,i.up)("Button"),d=(0,i.up)("Input");return(0,i.wg)(),(0,i.iD)("div",se,[(0,i.Wm)(r,{type:"primary",size:"large",class:"go-back",onClick:t[0]||(t[0]=e=>a.goBack())},{default:(0,i.w5)((()=>[(0,i.Uk)("Назад")])),_:1}),ae,re,de,(0,i.Wm)(d,{modelValue:s.text,"onUpdate:modelValue":t[1]||(t[1]=e=>s.text=e),type:"textarea",rows:7,placeholder:"Введите текст"},null,8,["modelValue"]),(0,i.Wm)(r,{type:"primary",size:"large",class:"send-request",disabled:""==s.text.trim(),onClick:t[2]||(t[2]=t=>e.sendRequest())},{default:(0,i.w5)((()=>[(0,i.Uk)("Отправить")])),_:1},8,["disabled"])])}var ce={name:"VideoList",data(){return{text:""}},computed:{...(0,w.rn)(["selected_question","questions"]),questionList(){return this.questions.filter((e=>e.id!=this.selected_question.id))}},created:function(){""==this.selected_question.id&&this.$store.dispatch("getQuestions").then((()=>{let e=this.questions.find((e=>e.id==this.$route.params.id));void 0!=e&&this.$store.commit("setSeleted",e)}))},methods:{goBack(){this.$router.push({name:"home"})},goTo(e){"last"==e.code?this.$router.push({name:"request"}):(this.$store.commit("setSeleted",e),this.$router.push({name:"question",params:{id:e.id}}))}}};const ue=(0,d.Z)(ce,[["render",le],["__scopeId","data-v-893b3254"]]);var me=ue;const he=[{path:"/",redirect:"home"},{path:"/home",name:"home",component:R},{path:"/question/:id",name:"question",component:ne},{path:"/request",name:"request",component:me}],pe=(0,u.p7)({history:(0,u.r5)(),routes:he});var ve=pe;function fe(e){const t="production",o="6981707634135019405",n="https://agent-learn.vsk.ru/custom_web_template.html",i="7150637520051639106",s="6955024497311033662",a="/custom_web_template.html",r="7150637520051639106",d="production"===t?s:o,l="production"===t?r:i,c="production"===t?a:n;var u=c.concat("?action_name=").concat(e).concat("&object_id=").concat(d).concat("&server_id=").concat(l).concat("&r=").concat(Math.round(1e4*Math.random()));return encodeURI(u)}const _e=e=>{let t=fe(e);const o=e=>e.then((e=>e.json())).catch((e=>{console.log("-----error-------"),console.log(e)}));return{get:e=>(e&&(t=t+"&"+new URLSearchParams(e).toString()),o(fetch(t,{method:"GET",credentials:"include"}))),post:(e,n)=>(n&&(t=t+"&"+new URLSearchParams(n).toString()),o(fetch(t,{method:"POST",credentials:"include",body:JSON.stringify(e)}))),form:(e,n)=>(n&&(t=t+"&"+new URLSearchParams(n).toString()),o(fetch(t,{method:"POST",credentials:"include",body:e})))}};var ge=(0,w.MT)({state:{questions:[],videos:[],selected_question:{id:"",name:"",text_area:""},helpdesk_mail:"agent-learn@vsk.ru"},getters:{},mutations:{setQuestions(e,t){e.questions=t.data.questions,e.videos=t.data.videos,e.helpdesk_mail=t.data.helpdesk_mail},setSeleted(e,t){Object.entries(e.selected_question).forEach((([o])=>e.selected_question[o]=t[o]))}},actions:{getQuestions(e){return _e("Questions").get().then((t=>{if("error"==t.type)return t;e.commit("setQuestions",t)}))}},modules:{}}),we=o(2969),be=o.n(we),qe=o(6088);(0,n.ri)(c).use(ge).use(ve).use(be(),{locale:qe.Z}).mount("#app-main")}},t={};function o(n){var i=t[n];if(void 0!==i)return i.exports;var s=t[n]={exports:{}};return e[n].call(s.exports,s,s.exports,o),s.exports}o.m=e,function(){var e=[];o.O=function(t,n,i,s){if(!n){var a=1/0;for(c=0;c<e.length;c++){n=e[c][0],i=e[c][1],s=e[c][2];for(var r=!0,d=0;d<n.length;d++)(!1&s||a>=s)&&Object.keys(o.O).every((function(e){return o.O[e](n[d])}))?n.splice(d--,1):(r=!1,s<a&&(a=s));if(r){e.splice(c--,1);var l=i();void 0!==l&&(t=l)}}return t}s=s||0;for(var c=e.length;c>0&&e[c-1][2]>s;c--)e[c]=e[c-1];e[c]=[n,i,s]}}(),function(){o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,{a:t}),t}}(),function(){o.d=function(e,t){for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){o.p="/vsk/template/help-desk/client/"}(),function(){var e={143:0};o.O.j=function(t){return 0===e[t]};var t=function(t,n){var i,s,a=n[0],r=n[1],d=n[2],l=0;if(a.some((function(t){return 0!==e[t]}))){for(i in r)o.o(r,i)&&(o.m[i]=r[i]);if(d)var c=d(o)}for(t&&t(n);l<a.length;l++)s=a[l],o.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return o.O(c)},n=self["webpackChunkhelp_desk"]=self["webpackChunkhelp_desk"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=o.O(void 0,[998],(function(){return o(5224)}));n=o.O(n)})();
//# sourceMappingURL=app.87436192.js.map